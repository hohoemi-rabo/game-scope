# 03_デザインシステム実装

**ステータス**: [完了]
**優先度**: 中
**Phase**: Phase 1 (MVP)

## 概要

GameScope のデザインシステムを Tailwind CSS で実装する。カラーパレット、タイポグラフィ、共通コンポーネントを定義。

## 目的

- カスタムカラーパレットの設定
- フォント設定の実装
- グローバルスタイルの定義
- 再利用可能な UI コンポーネントの基礎作成

## タスク一覧

### 1. Tailwind CSS カスタマイズ
- [x] `tailwind.config.ts` にカスタムカラーを追加
- [x] カスタムフォント設定の追加
- [x] ブレークポイントの確認

### 2. グローバルスタイルの実装
- [x] `src/app/globals.css` の更新
- [x] CSS 変数の定義
- [x] ダークモード対応の基礎設定

### 3. 共通コンポーネントの作成
- [x] `ScoreBadge` コンポーネント（スコア表示バッジ）
- [ ] `PlatformIcon` コンポーネント（プラットフォームアイコン）
- [x] `LoadingSpinner` コンポーネント

### 4. レイアウトコンポーネント
- [x] `Container` コンポーネント（コンテンツ幅制限）
- [ ] `Grid` コンポーネント（ゲーム一覧グリッド）

## 実装詳細

### tailwind.config.ts の更新

```typescript
import type { Config } from "tailwindcss";

const config: Config = {
  content: [
    "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
    extend: {
      colors: {
        // GameScope カスタムカラー
        'bg-primary': '#0e0e10',      // ブラックグレー
        'accent': '#5865f2',           // ブルーバイオレット
        'success': '#00c896',          // エメラルドグリーン (スコア80+)
        'warning': '#ffb300',          // アンバー (スコア60-79)
        'danger': '#ff5252',           // コーラルレッド (スコア59以下)
        'text-primary': '#f2f2f2',     // ホワイト
        'text-secondary': '#9e9e9e',   // グレー
      },
      fontFamily: {
        sans: ["var(--font-geist-sans)", "sans-serif"],
        mono: ["var(--font-geist-mono)", "monospace"],
      },
      screens: {
        'mobile': '767px', // モバイル/タブレット境界
      },
    },
  },
  plugins: [],
};

export default config;
```

### src/app/globals.css の更新

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* カラーパレット */
  --bg-primary: #0e0e10;
  --accent: #5865f2;
  --success: #00c896;
  --warning: #ffb300;
  --danger: #ff5252;
  --text-primary: #f2f2f2;
  --text-secondary: #9e9e9e;

  /* その他のシステム変数 */
  --background: #0a0a0a;
  --foreground: #ededed;
}

@layer base {
  body {
    @apply bg-bg-primary text-text-primary;
    font-family: var(--font-geist-sans), Arial, Helvetica, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-bold;
  }

  h1 {
    @apply text-4xl md:text-5xl;
  }

  h2 {
    @apply text-3xl md:text-4xl;
  }

  h3 {
    @apply text-2xl md:text-3xl;
  }
}

@layer components {
  /* スコアバッジの基本スタイル */
  .score-badge {
    @apply inline-flex items-center justify-center
           font-bold rounded-lg px-3 py-1.5
           text-lg font-mono;
  }

  .score-badge-high {
    @apply score-badge bg-success/20 text-success border border-success/50;
  }

  .score-badge-medium {
    @apply score-badge bg-warning/20 text-warning border border-warning/50;
  }

  .score-badge-low {
    @apply score-badge bg-danger/20 text-danger border border-danger/50;
  }
}

@layer utilities {
  /* カスタムユーティリティ */
  .text-balance {
    text-wrap: balance;
  }
}
```

### src/app/components/ScoreBadge.tsx

```typescript
/**
 * スコア表示バッジコンポーネント
 * メタスコアに応じて色分けを行う
 */

interface ScoreBadgeProps {
  score: number | null
  size?: 'sm' | 'md' | 'lg'
}

export default function ScoreBadge({ score, size = 'md' }: ScoreBadgeProps) {
  if (score === null) {
    return <div className="score-badge opacity-50">N/A</div>
  }

  // スコアに応じてスタイルを決定
  const getScoreStyle = (score: number) => {
    if (score >= 80) return 'score-badge-high'
    if (score >= 60) return 'score-badge-medium'
    return 'score-badge-low'
  }

  const sizeClasses = {
    sm: 'text-sm px-2 py-1',
    md: 'text-lg px-3 py-1.5',
    lg: 'text-xl px-4 py-2',
  }

  return (
    <div className={`${getScoreStyle(score)} ${sizeClasses[size]}`}>
      {score}
    </div>
  )
}
```

### src/app/components/Container.tsx

```typescript
/**
 * コンテンツ幅を制限するコンテナコンポーネント
 */

interface ContainerProps {
  children: React.ReactNode
  className?: string
}

export default function Container({ children, className = '' }: ContainerProps) {
  return (
    <div className={`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${className}`}>
      {children}
    </div>
  )
}
```

### src/app/components/LoadingSpinner.tsx

```typescript
/**
 * ローディングスピナーコンポーネント
 */

interface LoadingSpinnerProps {
  size?: 'sm' | 'md' | 'lg'
}

export default function LoadingSpinner({ size = 'md' }: LoadingSpinnerProps) {
  const sizeClasses = {
    sm: 'w-4 h-4 border-2',
    md: 'w-8 h-8 border-3',
    lg: 'w-12 h-12 border-4',
  }

  return (
    <div className="flex items-center justify-center">
      <div
        className={`${sizeClasses[size]} border-accent border-t-transparent rounded-full animate-spin`}
        role="status"
        aria-label="読み込み中"
      />
    </div>
  )
}
```

## 完了条件

- [x] Tailwind CSS のカスタム設定が反映されている
- [x] グローバルスタイルが適用されている
- [x] `ScoreBadge` コンポーネントが動作する
- [x] スコアの色分けが正しく機能する（80+緑、60-79黄、59以下赤）
- [x] レスポンシブデザインが機能している

## 関連チケット

- 前: `02_Supabaseクライアント設定.md`
- 次: `04_トップページ実装.md`

## 参考資料

- [Tailwind CSS Customization](https://tailwindcss.com/docs/configuration)
- [Tailwind CSS Color Palette](https://tailwindcss.com/docs/customizing-colors)
- REQUIREMENTS.md - デザインシステム仕様
